<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <div class="container-fluid d-flex flex-column align-items-center">
        <!-- first form -->
        <div class="container border border-2 border-primary rounded p-2 mt-5">
            <h3 class="text-center mb-4">Add or Substract days from date</h3>
            <form class="form d-flex flex-column gap-2 ">
                <div class="row">
                     <!-- date label and input -->
                    <div class="col d-flex flex-column justify-content-end">
                        <label for="date" class="form-label fw-bold">Choose a date</label>
                        <input type="date" name="date" id="date" class="form-control">
                    </div>

                    <!-- days/months/years label and input -->
                    <div class="col d-flex flex-column justify-content-end">
                        <label for="value" class="form-label d-flex align-items-center fw-bold m">Number of 
                            <select name="" id="type-select" class="btn btn-outline-dark ms-2 fw-bold px-0 py-0">
                                <option value="days" selected>days</option>
                                <option value="months">months</option>
                                <option value="years">years</option>
                            </select>
                        </label>
                        <input type="text" name="" id="value" class="form-control" pattern="[0-9]*" required>
                    </div>
                </div>
               
                
                
                
                
    
                <!-- buttons -->
                <div>
                    <button type="button" class="btn btn-outline-success" id="add">Add</button>
                    <button type="button" class="btn btn-outline-warning" id="sub">Substract</button>
                </div>

                <div class="div mt-4">
                    <p class="fw-bold">New Date: <span id="result"></span></p>
                </div>
            </form>
        </div>

        <!-- second form: calculate difference between two dates -->
        <div class="container border border-2 border-primary rounded p-2 mt-5">
            <h3 class="text-center mb-4">Calculate difference between two dates</h3>
            <form  class="form d-flex flex-column gap-2">
                <div class="row">
                    <div class="col">
                        <label for="date1" class="form-label fw-bold">Choose a date</label>
                        <input type="date" name="date1" id="date1" class="form-control ">
                    </div>

                    <div class="col">
                        <label for="date2" class="form-label fw-bold">Choose another date</label>
                        <input type="date" name="date2" id="date2" class="form-control">
                    </div>

                    <div class="text-center mt-4">
                        <button class="btn btn-primary" id="calcDiff">Calculate Difference</button>
                    </div>
    
                    <p class="fw-bold text-center">Difference: <span id="diff"></span></p>
                </div>   
            </form>
        </div>

        <!-- third form: age calculator-->
        <div class="container border border-2 border-primary rounded p-2 mt-5 mb-5">
            <h3 class="text-center mb-4">Age calculator</h3>
            <form  class="form d-flex flex-column gap-2">
                <label for="birthDate" class="form-label fw-bold">Birth Date</label>
                <input type="date" name="birthDate" id="birthDate" class="form-control">
                <div class="text-center mt-4">
                    <button type="button" id="calcAge" class="btn btn-primary w-25 text-center">Caclulate Age</button>
                </div>
                
                <p class="fw-bold text-center">Age: <span id="age"></span></p>
            </form>
        </div>
    </div>
    



    <script type="text/javascript">
        
       //code for the first form
        let date1;
        let valueType;
        let value;
        let resultContainer = document.querySelector("#result");
        // Update valueType when select input changes
        document.querySelector('#type-select').addEventListener('change', function() {
        valueType = this.value;
        console.log("Value type changed to:", valueType);
        });
       //update date
       document.querySelector('#date').addEventListener('change', function() {
          date1 = new Date(this.value);
          console.log("Date changed to:", date1);
       })
        
        //function for when add button is clicked
        let add = () => {
            if (valueType == "days") {
                let result = date1.setDate(date1.getDate() + value);
            } else if (valueType == "months") {
                let result = date1.setMonth(date1.getMonth() + value);
            } else if (valueType == "years") {
                let result = date1.setFullYear(date1.getFullYear() + value);
            }
            console.log(result);
            resultContainer.textContent = toString(result);
        }

        //function for when sub button is clicked
        let sub = () => {
            if (valueType == "days") {
                let result = date1.setDate(date1.getDate() - value);
            } else if (valueType == "months") {
                let result = date1.setMonth(date1.getMonth() - value);
            } else if (valueType == "years") {
                let result = date1.setFullYear(date1.getFullYear() - value);
            }
            console.log(result);
            resultContainer.textContent = toString(result);
        }

        //event listeners
        document.querySelector('#add').addEventListener('click', add);
        document.querySelector('#sub').addEventListener('click', sub);



        

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>